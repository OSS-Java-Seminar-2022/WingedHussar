<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5%22%3E">
<head>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css}">
    <script type="text/javascript" th:src="@{/webjars/jquery/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form th:action="@{/logout}" method="post" th:hidden="true" name="logoutForm">
    <input type="submit" />
</form>
<p>
    <th:block sec:authorize="isAuthenticated()">
        <span sec:authentication="principal.username"></span>
        <button class="btn btn-warning" id="logoutLink">Logout</button>
    </th:block>

    <th:block sec:authorize="!isAuthenticated()">
    <a th:href="@{/login}">Login</a>
    <a th:href="@{/register}">Register</a>
    </th:block>
</p>
<script type="text/javascript">
    $(document).ready(function(){
        $("#logoutLink").on("click", function(e){
            e.preventDefault();
            document.logoutForm.submit();
        });
    });
</script>
</body>
</html>